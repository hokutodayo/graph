<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Planar Graph Drawing App</title>
		<!-- Bootstrap CSSの読み込み -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
		<!-- sweetalert2 -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.8/dist/sweetalert2.min.css" />
		<style>
			/* ダブルクリックでテキストが選択されないようにする */
			.canvas-area {
				user-select: none;
			}
			/* 画面全体の高さに合わせたスタイル */
			.full-height {
				height: 100vh; /* ビューポートの高さに基づく100% */
			}
			.main-area {
				height: calc(100vh - 90px); /* ヘッダーと入力エリアの高さを引いた残りの高さ */
			}
			.overflow-hidden {
				overflow: hidden; /* 余分なスクロールを隠す */
			}
		</style>
	</head>
	<body>
		<div class="container-fluid full-height overflow-hidden">
			<!-- ナビゲーションバー -->
			<header class="row compact-row">
				<nav id="nav" class="navbar navbar-expand-lg navbar-light bg-light w-100">
					<div class="container-fluid">
						<!-- アプリ名 -->
						<div class="container-fluid">Planar Graph Drawing App</div>
						<!-- ソースコードのリンク -->
						<div class="d-flex justify-content-end w-100">
							<a href="https://github.com/hokutodayo/planar-graph" class="nav-link" target="_blank"> View Source Code </a>
						</div>
					</div>
				</nav>
			</header>

			<!-- 数式入力エリア -->
			<div class="row my-1 compact-row">
				<div class="col-auto">
					<!-- 次数配列、ランレングス切り替えトグル -->
					<div class="btn-group" role="group" aria-label="Toggle Button Group">
						<button id="degreeToggle1" type="button" style="width: 120px" class="btn btn-outline-primary btn-toggle px-0 active">次数配列</button>
						<button id="degreeToggle2" type="button" style="width: 120px" class="btn btn-outline-primary btn-toggle px-0">ランレングス圧縮</button>
					</div>
				</div>

				<div class="col">
					<!-- 次数配列入力欄 -->
					<input id="degreeSequenceInput" type="text" class="form-control" inputmode="decimal" placeholder="例: 4,4,4,3,3" />
				</div>

				<div class="col-auto">
					<!-- グラフ生成ボタン -->
					<button id="applyDegreeSequence" style="width: 120px" class="btn btn-primary">グラフ生成</button>
				</div>
				<div class="col-auto">
					<!-- 初期化ボタン -->
					<button id="initGraphButton" style="width: 120px" class="btn btn-danger">グラフ初期化</button>
				</div>
			</div>

			<!-- メインエリア -->
			<div class="row main-area">
				<!-- キャンバスエリア -->
				<div class="col-10 canvas-area">
					<canvas id="graphCanvas" class="border" width="1000" height="800"></canvas>
				</div>

				<!-- プロパティエリア -->
				<div class="col-2 property-area">
					<div id="menu" class="bg-light border p-3 full-height">
						<!-- グラフ情報 -->
						<div class="statistics">
							<p id="vertexDisplay">頂点の数: 0</p>
							<p id="edgeDisplay">辺の数: 0</p>
							<p id="graphStatusDisplay">グラフ: 平面グラフ</p>
							<p id="maxGraphEdgeDisplay">辺数 0 追加可能</p>
							<p id="hasK33Display">K3,3: -</p>
							<p id="hasK5Display">K5: -</p>
						</div>

						<div>
							<!-- インデックス表示のチェックボックス -->
							<label><input type="checkbox" id="showIndexCheckbox" checked="true" />頂点番号を表示する</label>
							<!-- 次数表示のチェックボックス -->
							<label><input type="checkbox" id="showDegreeCheckbox" />次数を表示する</label>
						</div>

						<!-- モード変更するボタン -->
						<div>
							<button id="changeForceDirectModeButton" class="btn btn-primary my-2">ペジェ曲線モードにする</button>
						</div>
						<!-- 辺を直線化するボタン -->
						<div>
							<button id="straightenEdgesButton" class="btn btn-primary my-2" disabled>辺を直線にする</button>
						</div>

						<span>
							<!-- エクスポートボタン -->
							<button id="exportButton" class="btn btn-primary my-2">Export</button>
							<!-- インポートボタン -->
							<button id="importButton" class="btn btn-primary my-2">Import</button>
							<input type="file" id="importFileInput" class="btn btn-secondary" accept=".json" style="display: none" />
						</span>
					</div>
				</div>
			</div>
		</div>
		<!-- JavaScriptモジュールをインポート -->
		<script type="module" src="./bundle.js"></script>
		<!-- Bootstrap -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
		<!-- sweetAlert2 -->
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.8/dist/sweetalert2.all.min.js"></script>
	</body>
</html>
