<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Planar Graph Drawing App</title>
		<!-- Bootstrap CSSの読み込み -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
		<!-- sweetalert2 -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.8/dist/sweetalert2.min.css" />
		<style>
			/* ダブルクリックでテキストが選択されないようにする */
			* {
				user-select: none;
			}
			/* 画面全体の高さに合わせたスタイル */
			.full-height {
				height: 100vh; /* ビューポートの高さに基づく100% */
			}
			.canvas-area {
				height: calc(100vh - 90px); /* ヘッダーと入力エリアの高さを引いた残りの高さ */
			}
			.overflow-hidden {
				overflow: hidden; /* 余分なスクロールを隠す */
			}
		</style>
	</head>
	<body>
		<div class="container-fluid full-height overflow-hidden">
			<!-- ナビゲーションバー -->
			<header class="row compact-row">
				<nav id="nav" class="navbar navbar-expand-lg navbar-light bg-light w-100">
					<div class="container-fluid">
						<!-- アプリ名 -->
						<div class="container-fluid">Planar Graph Drawing App</div>
						<!-- ソースコードのリンク -->
						<div class="d-flex justify-content-end w-100">
							<a href="https://github.com/hokutodayo/planar-graph" class="nav-link" target="_blank"> View Source Code </a>
						</div>
					</div>
				</nav>
			</header>

			<!-- 数式入力エリア -->
			<div class="row my-1 compact-row">
				<div class="col-auto">
					<div class="d-flex" style="width: 150px">
						<button id="formatToggle" class="btn btn-outline-secondary w-100">次数配列</button>
					</div>
				</div>
				<div class="col">
					<input id="degreeSequenceInput" type="text" class="form-control" inputmode="decimal" placeholder="例: 4,4,4,3,3" />
				</div>
				<div class="col-auto">
					<button id="applyDegreeSequence" class="btn btn-primary" onclick="applyDegreeSequence()">適用</button>
				</div>
			</div>

			<!-- キャンバスとプロパティエリア -->
			<div class="row canvas-area">
				<div class="col-10">
					<!-- キャンバスエリア -->
					<canvas id="graphCanvas" class="border" width="1000" height="800"></canvas>
				</div>
				<div class="col-2">
					<!-- プロパティエリア -->
					<div id="menu" class="bg-light border p-3 full-height">
						<!-- クリアボタン -->
						<button id="initGraphButton" class="btn btn-danger my-2">グラフ初期化</button>
						<!-- グラフ情報 -->
						<div class="statistics">
							<p id="vertexDisplay">頂点の数: 0</p>
							<p id="edgeDisplay">辺の数: 0</p>
							<p id="isMaxGraphDisplay">極大平面グラフか: NO</p>
							<p id="maxGraphEdgeDisplay">辺の数が 0 足りません</p>
						</div>
						<!-- インデックス表示のチェックボックス -->
						<div>
							<label>
								<input type="checkbox" id="showIndexCheckbox" />
								頂点番号を表示する
							</label>
							<!-- 次数表示のチェックボックス -->
							<label>
								<input type="checkbox" id="showDegreeCheckbox" />
								次数を表示する
							</label>
						</div>
						<!-- 辺を直線化するボタン -->
						<div>
							<button id="straightenEdgesButton" class="btn btn-primary my-2">すべての辺を直線にする</button>
						</div>
						<span>
							<!-- エクスポートボタン -->
							<button id="exportButton" class="btn btn-primary my-2">Export</button>
							<!-- インポートボタン -->
							<button id="importButton" class="btn btn-secondary my-2">Import</button>
							<input type="file" id="importFileInput" class="btn btn-secondary" accept=".json" style="display: none" />
						</span>
					</div>
				</div>
			</div>
		</div>
		<!-- JavaScriptモジュールをインポート -->
		<script type="module" src="./bundle.js"></script>
		<!-- Bootstrap -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
		<!-- sweetAlert2 -->
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.8/dist/sweetalert2.all.min.js"></script>
	</body>
</html>
